{"version":3,"sources":["../../../src/js/app/MainCtrl.es6"],"names":[],"mappings":";;;;;;;;;;;KAOa,QAAQ;AACT,WADC,QAAQ,GACN;yBADF,QAAQ;;AAEnB,OAAI,CAAC,IAAI,GAAG,aATL,IAAI,CASU,eAAe,CAAC,CAAC;;AAEtC,OAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;AAC7D,OAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;AAC5D,OAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;AACtD,OAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;AACtD,OAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;AACzD,OAAI,CAAC,eAAe,GAAG,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;AAC9D,OAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;AAChE,OAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;AAC7D,OAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;;AAE/D,OAAI,CAAC,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;;AAEzC,OAAI,CAAC,YAAY,EAAE,CAAC;AACpB,OAAI,CAAC,UAAU,EAAE,CAAC;AAClB,OAAI,CAAC,WAAW,EAAE,CAAC;GACnB;;eAnBW,QAAQ;;UAqBR,wBAAG;AACd,SAAK,IAAI,GAAG,0BA3BL,YAAY,EA2BW;AAC7B,SAAI,CAAC,aAAa,CAAC,SAAS,IAAI,kBAAiB,GAAC,GAAG,GAAC,KAAI,GAAC,sBA5BrD,YAAY,CA4BsD,GAAG,CAAC,CAAC,IAAI,GAAC,WAAW,CAAC;KAC9F;IACD;;;UAEU,uBAAG;AACb,QAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,iBA/BpB,KAAK,CA+BqB,oBAAoB,CAAC,CAAC,CAAC;AACxD,QAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;IACnB;;;UAES,sBAAG;;;AACZ,QAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,UAAS,KAAK,EAAE;AAAE,SAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAA;KAAE,CAAA,CAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;AAC/F,QAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAC,KAAK;YAAK,MAAK,UAAU,EAAE;KAAA,CAAC,CAAC;AAC5E,QAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAC,KAAK;YAAK,MAAK,kBAAkB,EAAE;KAAA,CAAC,CAAC;AACpF,QAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAC,KAAK;YAAK,MAAK,OAAO,EAAE;KAAA,CAAC,CAAC;AACtE,QAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAC,KAAK;YAAK,MAAK,OAAO,EAAE;KAAA,CAAC,CAAC;AACtE,QAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAC,KAAK;YAAK,MAAK,YAAY,EAAE;KAAA,CAAC,CAAC;AAChF,QAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAC,KAAK;YAAK,MAAK,SAAS,EAAE;KAAA,CAAC,CAAC;IAC9E;;;UAEe,0BAAC,CAAC,EAAE;AACnB,WAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;IAC1B;;;UAEkB,+BAAG,EAErB;;;UAGW,wBAAG;AACd,QAAI,CAAC,IAAI,CAAC,gBAAgB,wBAxDnB,WAAW,CAwDqB,CAAC;;AAExC,qBAzDc,KAAK,CAyDb,oBAAoB,EAAE,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC;;AAE1D,QAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;IACnB;;;UAEY,uBAAC,CAAC,EAAE,EAEhB;;;UAES,oBAAC,CAAC,EAAE;AACb,QAAI,UAAU,GAAG,gBAtEV,OAAO,EAsEgB;QAC7B,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK;QACjC,GAAG,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,QAAQ;QAC/B,MAAM,GAAG,IAAI,CAAC,GAAG,EAAE;QACnB,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,GAAG,OAAO;QACvE,EAAE,GAAG,UAAU,CAAC,aAAa,CAAC,GAAG,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAG,OAAO,EAAC,CAAC,CAAC;;AAE1E,QAAI,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;;AAEzB,qBA5Ec,KAAK,CA4Eb,oBAAoB,EAAE,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC;;AAE1D,QAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;IACnB;;;UAEiB,8BAAG;AACpB,WAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;IACpC;;;UAEc,yBAAC,IAAI,EAAE;AACrB,QAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;IACjC;;;UAEK,kBAAG;AACR,QAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;IAC5B;;;UAEM,mBAAG;AACT,WAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC;AAC1C,WAAO,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC;IACpC;;;UAEM,mBAAG;AACT,WAAO,MAAM,CAAC;IACd;;;UAEa,0BAAG;AAChB,QAAI,MAAM,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;AAC/B,WAAO,MAAM,CAAC;IACd;;;UAEQ,qBAAG;AACX,QAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;AACtB,qBA7Gc,KAAK,CA6Gb,mBAAmB,EAAE,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC;AACzD,QAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;IACnB;;;SA5GW,QAAQ;;;SAAR,QAAQ,GAAR,QAAQ","file":"src/js/app/MainCtrl.es6","sourcesContent":["import { Page } from \"app/Page\";\nimport { Element } from \"app/Element\";\nimport { GridElements } from \"\telements/GridElements\";\nimport { initialHTML } from \"app/helpers/initialhtml\";\nimport { LSGet, LSSet } from \"app/LocalStorage\";\n\n\nexport class MainCtrl {\n\tconstructor() {\n\t\tthis.page = new Page('editorWrapper');\n\n\t\tthis.$elementsList = document.getElementById(\"elementsList\");\n\t\tthis.$btnAddElement = document.getElementById(\"addElement\");\n\t\tthis.$btnGetJSON = document.getElementById(\"getJSON\");\n\t\tthis.$btnGetHTML = document.getElementById(\"getHTML\");\n\t\tthis.$btnClearHTML = document.getElementById(\"clearAll\");\n\t\tthis.$btnAddElements = document.getElementById(\"addElements\");\n\t\tthis.$btnLoadElements = document.getElementById(\"loadElements\");\n\t\tthis.$btnClearElements = document.getElementById(\"clearAll\");\n\t\tthis.$inputContent = document.getElementById(\"elementContent\");\n\n\t\tthis.$el = document.querySelector('div');\n\n\t\tthis.listElements();\n\t\tthis.bindEvents();\n\t\tthis.initContent();\n\t}\n\n\tlistElements() {\n\t\tfor (var key in GridElements) {\n\t\t\tthis.$elementsList.innerHTML += '<option value=\"'+key+'\">'+GridElements[key].name+'</option>';\n\t\t}\n\t}\n\n\tinitContent() {\n\t\tthis.page.setHTMLStructure(LSGet('fedojo_editor_html'));\n\t\tthis.page.redraw();\n\t}\n\n\tbindEvents() {\n\t\tthis.$el.addEventListener(\"click\", (function(event) { this.removeElement(event) }).bind(this));\n\t\tthis.$btnAddElement.addEventListener(\"click\", (event) => this.addElement());\n\t\tthis.$btnAddElement.addEventListener(\"click\", (event) => this.addElementRandomly());\n\t\tthis.$btnGetJSON.addEventListener(\"click\", (event) => this.getJSON());\n\t\tthis.$btnGetHTML.addEventListener(\"click\", (event) => this.getHTML());\n\t\tthis.$btnLoadElements.addEventListener(\"click\", (event) => this.loadElements());\n\t\tthis.$btnClearElements.addEventListener(\"click\", (event) => this.clearHTML());\n\t}\n\n\tshowElementPrefs(e) {\n\t\tconsole.log('show prefs');\n\t}\n\n\taddElementsRandomly() {\n\n\t}\n\n\n\tloadElements() {\n\t\tthis.page.addHTMLStructure(initialHTML);\n\n\t\tLSSet('fedojo_editor_html', this.page.getHTMLStructure());\n\n\t\tthis.page.redraw();\n\t}\n\n\tremoveElement(e) {\n\n\t}\n\n\taddElement(e) {\n\t\tlet newElement = new Element(),\n\t\t\toption = this.$elementsList.value,\n\t\t\ttpl = elements[option].template,\n\t\t\tprefix = Date.now(),\n\t\t\tcontent = this.$inputContent.value ? this.$inputContent.value : 'Empty',\n\t\t\tel = newElement.createFromTpl(tpl, { prefix: prefix, content : content}); // get\n\n\t\tthis.page.addElement(el);\n\n\t\tLSSet('fedojo_editor_html', this.page.getHTMLStructure());\n\n\t\tthis.page.redraw();\n\t}\n\n\tshowElementOptions() {\n\t\tconsole.log('Show element options');\n\t}\n\n\tsetElementsHTML(html) {\n\t\tthis.page.setHTMLStructure(html);\n\t}\n\n\tredraw() {\n\t\tthis.page.redrawStructure();\n\t}\n\n\tgetHTML() {\n\t\tconsole.log(this.page.getHTMLStructure());\n\t\treturn this.page.getHTMLStructure();\n\t}\n\n\tgetJSON() {\n\t\treturn \"JSON\";\n\t}\n\n\tgeneratePrefix() {\n\t\tlet prefix = Date.now() / 1000;\n\t\treturn prefix;\n\t}\n\n\tclearHTML() {\n\t\tthis.page.clearHTML();\n\t\tLSSet('fedojoeditor_html', this.page.getHTMLStructure());\n\t\tthis.page.redraw();\n\t}\n}\n"]}